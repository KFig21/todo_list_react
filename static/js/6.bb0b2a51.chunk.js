(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[6],{53:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var a=n(62),r=n(51),c=n.n(r),s=n(52),i=n(19);function u(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").where("username","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").where("userId","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(t).collection("lists").get();case 2:return n=(n=e.sent).docs.map((function(e){return Object(a.a)({},e.data())})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(c.a.mark((function e(t,n,a){var r,s,u,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(n);case 2:r=e.sent,s=r.collection("lists").doc(t),u=s.collection("tasks").doc(),o=r.collection("tasks").doc(),d=Date.now(),u.set({taskName:a,dateCreated:d,completed:!1,due:d,urgent:!1,taskIdList:u.id,taskIdMain:o.id}),o.set({taskName:a,dateCreated:d,completed:!1,due:d,urgent:!1,taskIdList:u.id,taskIdMain:o.id});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(t).collection("lists").doc();case 2:(a=e.sent).set({listName:n,dateCreated:Date.now(),listId:a.id});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(51),r=n.n(a),c=n(52),s=n(26),i=n(1),u=n(27),o=n(53);function d(){var e=Object(i.useState)({}),t=Object(s.a)(e,2),n=t[0],a=t[1],d=Object(i.useContext)(u.a).user;return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.e)(d.uid);case 2:t=e.sent,n=Object(s.a)(t,1),c=n[0],a(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(null===d||void 0===d?void 0:d.uid)&&function(){e.apply(this,arguments)}()}),[d]),{userInfo:n}}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n(4),c=n(28),s=(n(59),n(16)),i=n(27),u=n(57),o=n(61),d=n.n(o),l=n(8);function b(e){var t=e.title,n=e.sidebarOpen,o=e.setSidebarOpen,b=(Object(a.useContext)(s.a).firebase,Object(a.useContext)(i.a).user),j=(Object(u.a)().userInfo,Object(r.f)(),void 0===t?"To-Do List":t);return Object(l.jsx)("div",{className:"navbar",children:Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsx)("div",{className:"left",children:Object(l.jsx)("div",{className:"hamburger",onClick:function(){return o(!n)},children:Object(l.jsx)(d.a,{className:"icon"})})}),Object(l.jsx)("div",{className:"middle",children:Object(l.jsx)(c.b,{className:"link-title",to:"/",children:Object(l.jsx)("h2",{children:"".concat(j)})})}),Object(l.jsx)("div",{className:"right",children:!b&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c.b,{to:"/login",children:Object(l.jsx)("button",{children:"Login"})}),Object(l.jsx)(c.b,{to:"/signup",children:Object(l.jsx)("button",{children:"Signup"})})]})})]})})}},59:function(e,t,n){},60:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var a=n(51),r=n.n(a),c=n(52),s=n(26),i=(n(60),n(4)),u=n(28),o=n(1),d=n(16),l=n(18),b=n(53),j=(n(58),n(8));function p(){var e=Object(i.f)(),t=Object(o.useContext)(d.a).firebase,n=Object(o.useState)(""),a=Object(s.a)(n,2),p=a[0],f=a[1],h=Object(o.useState)(""),O=Object(s.a)(h,2),m=O[0],v=O[1],x=Object(o.useState)(""),k=Object(s.a)(x,2),g=k[0],w=k[1],y=Object(o.useState)(""),N=Object(s.a)(y,2),C=N[0],I=N[1],S=Object(o.useState)(""),E=Object(s.a)(S,2),L=E[0],D=E[1],M=""===C||""===g,_=Object(o.useState)("disabled"),A=Object(s.a)(_,2),F=A[0],P=A[1],T=function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s,i,u,o,d,j;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,Object(b.c)(p);case 3:if(n.sent){n.next=35;break}return n.prev=5,n.next=8,t.auth().createUserWithEmailAndPassword(g,C);case 8:return c=n.sent,n.next=11,c.user.updateProfile({displayName:p});case 11:return n.next=13,t.firestore().collection("users").doc();case 13:(s=n.sent).set({userId:c.user.uid,username:p,fullName:m,emailAddress:g.toLowerCase(),dateCreated:Date.now(),docId:s.id}),i=s.collection("lists").doc(),u=i.collection("tasks").doc(),o=s.collection("tasks").doc(),"New",d="Create a list or a task!",j=Date.now(),i.set({listId:i.id,listName:"New",dateCreated:j}),u.set({taskName:d,taskIdList:u.id,taskIdMain:o.id,dateCreated:j,urgent:!1,completed:!1,due:j}),o.set({taskName:d,taskIdList:u.id,taskIdMain:o.id,dateCreated:j,urgent:!1,completed:!1,due:j}),e.push(l.a),n.next=33;break;case 27:n.prev=27,n.t0=n.catch(5),v(""),w(""),I(""),D(n.t0.message);case 33:n.next=36;break;case 35:D("That username is already taken");case 36:case"end":return n.stop()}}),n,null,[[5,27]])})));return function(e){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){P(M?"disabled":"able")}),[M]),Object(o.useEffect)((function(){document.title="Sign-up - To Do"}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("h2",{children:"Signup"}),L&&Object(j.jsx)("p",{className:"error",children:L}),Object(j.jsxs)("form",{onSubmit:T,children:[Object(j.jsx)("input",{"aria-label":"Enter your username",type:"test",placeholder:"Username",onChange:function(e){var t=e.target;return f(t.value)},value:p}),Object(j.jsx)("input",{"aria-label":"Enter your full name",type:"test",placeholder:"Full name",onChange:function(e){var t=e.target;return v(t.value)},value:m}),Object(j.jsx)("input",{"aria-label":"Enter your email address",type:"test",placeholder:"Email address",onChange:function(e){var t=e.target;return w(t.value)},value:g}),Object(j.jsx)("input",{"aria-label":"Enter your password",type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return I(t.value)},value:C}),Object(j.jsx)("button",{className:F,disabled:M,type:"submit",children:"Sign-up"})]})]}),Object(j.jsxs)("div",{className:"already",children:["Already have an account?"," ",Object(j.jsx)(u.b,{to:l.b,className:"link",children:"Log In"})]})]})})})}}}]);
//# sourceMappingURL=6.bb0b2a51.chunk.js.map