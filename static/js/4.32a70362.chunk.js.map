{"version":3,"sources":["services/firebase.js","hooks/use-user.js","components/navbar/Navbar.js","../node_modules/@material-ui/icons/AddCircle.js","../node_modules/@material-ui/icons/Close.js","../node_modules/@material-ui/icons/CheckCircle.js","../node_modules/@material-ui/icons/PriorityHigh.js","../node_modules/@material-ui/icons/Save.js","../node_modules/@material-ui/icons/Create.js","../node_modules/@material-ui/icons/Today.js","components/sidebar/Sidebar.js","components/list/task/edit/Edit.js","components/list/task/delete/Delete.js","components/list/task/Task.js","components/list/List.js","pages/dashboard/Dashboard.js"],"names":["doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","docs","length","getUserByUserId","userId","map","item","data","docId","id","getListsByDocId","doc","addTask","listId","input","userDocRef","listsDocRef","tasksInListDocRef","tasksMainDocRef","dateCreated","Date","now","set","taskName","completed","due","urgent","taskIdList","taskIdMain","addList","listDocRef","listName","useUser","useState","activeUser","setActiveUser","user","useContext","UserContext","useEffect","uid","response","getUserObjByUserId","userInfo","Navbar","title","sidebarOpen","setSidebarOpen","FirebaseContext","navTitle","useHistory","undefined","className","onClick","to","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","Fragment","cx","cy","r","Sidebar","lists","setCurrentList","setInput","isInvalid","history","list","handleListClick","disabled","type","event","preventDefault","placeholder","onChange","e","target","auth","signOut","push","onKeyDown","key","Edit","task","showEdit","setShowEdit","inputName","setInputName","inputDue","setInputDue","formatDate","date","toLocaleDateString","handleSaveName","console","log","db","update","handleSaveDate","onFocus","currentTarget","focus","Delete","handleDeleteTask","setShowDelete","showDelete","Task","sort","toggleCompleted","setToggleCompleted","toggleUrgent","setToggleUrgent","handleToggleCompleted","handleToggleUrgent","delete","List","tasks","setTasks","setSort","dir","setDir","orderBy","onSnapshot","snapshot","fallback","Main","emptyList","emptyArr","setLists","currentList","listData","loadLists"],"mappings":"0UAEO,SAAeA,EAAtB,kC,4CAAO,WAAiCC,GAAjC,eAAAC,EAAA,sEACgBC,IAClBC,YACAC,WAAW,SACXC,MAAM,WAAY,KAAML,GACxBM,MALE,cACCC,EADD,yBAOEA,EAAOC,KAAKC,OAAS,GAPvB,4C,sBAwBA,SAAeC,EAAtB,kC,4CAAO,WAA+BC,GAA/B,eAAAV,EAAA,sEACgBC,IAClBC,YACAC,WAAW,SACXC,MAAM,SAAU,KAAMM,GACtBL,MALE,cACCC,EADD,yBAOEA,EAAOC,KAAKI,KAAI,SAACC,GAAD,mBAAC,eACnBA,EAAKC,QADa,IAErBC,MAAOF,EAAKG,SATT,4C,sBAcA,SAAeC,EAAtB,kC,4CAAO,WAA+BF,GAA/B,eAAAd,EAAA,sEACcC,IAChBC,YACAC,WAAW,SACXc,IAAIH,GACJX,WAAW,SACXE,MANE,cAQLC,GAPIA,EADC,QAQWC,KAAKI,KAAI,SAACC,GAAD,sBACpBA,EAAKC,WATL,kBAYEP,GAZF,4C,sBAiCA,SAAeY,EAAtB,sC,4CAAO,WAAuBC,EAAQT,EAAQU,GAAvC,uBAAApB,EAAA,sEAUkBC,IAASC,YAAYC,WAAW,SAASc,IAAIP,GAV/D,OAUDW,EAVC,OAYDC,EAAcD,EAAWlB,WAAW,SAASc,IAAIE,GACjDI,EAAoBD,EAAYnB,WAAW,SAASc,MACpDO,EAAkBH,EAAWlB,WAAW,SAASc,MACjDQ,EAAcC,KAAKC,MAGvBJ,EAAkBK,IAAI,CACpBC,SAAUT,EACVK,YAAaA,EACbK,WAAW,EACXC,IAAKN,EACLO,QAAQ,EACRC,WAAYV,EAAkBR,GAC9BmB,WAAYV,EAAgBT,KAG9BS,EAAgBI,IAAI,CAClBC,SAAUT,EACVK,YAAaA,EACbK,WAAW,EACXC,IAAKN,EACLO,QAAQ,EACRC,WAAYV,EAAkBR,GAC9BmB,WAAYV,EAAgBT,KAnCzB,4C,sBAwCA,SAAeoB,EAAtB,oC,4CAAO,WAAuBzB,EAAQU,GAA/B,eAAApB,EAAA,sEACkBC,IACpBC,YACAC,WAAW,SACXc,IAAIP,GACJP,WAAW,SACXc,MANE,QACDmB,EADC,QAQMR,IAAI,CACbS,SAAUjB,EACVK,YAAaC,KAAKC,MAClBR,OAAQiB,EAAWrB,KAXhB,4C,sJC7GQ,SAASuB,IACtB,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACQC,EAASC,qBAAWC,KAApBF,KAcR,OAZAG,qBAAU,WAAM,4CACd,gCAAA7C,EAAA,sEAC2BS,YAAgBiC,EAAKI,KADhD,mCACSC,EADT,KAEEN,EAAcM,GAFhB,4CADc,uBAMd,OAAIL,QAAJ,IAAIA,OAAJ,EAAIA,EAAMI,MANK,WAAD,wBAOZE,KAED,CAACN,IAGG,CAAEO,SAAUT,K,gCCpBrB,oHAUe,SAASU,EAAT,GAAyD,IAAvCC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,eAE3CX,GADaC,qBAAWW,KAAxBrD,SACS0C,qBAAWC,KAApBF,MAGJa,GAFiBjB,cAAbW,SACQO,mBACSC,IAAVN,EAAsB,aAAeA,GAEpD,OACE,qBAAKO,UAAU,SAAf,SACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,OAAf,SACE,qBACEA,UAAU,YACVC,QAAS,kBAAMN,GAAgBD,IAFjC,SAIE,cAAC,IAAD,CAAUM,UAAU,aAGxB,qBAAKA,UAAU,SAAf,SACE,cAAC,IAAD,CAAMA,UAAU,aAAaE,GAAG,IAAhC,SACE,uCAAQL,SAGZ,qBAAKG,UAAU,QAAf,UACIhB,GACA,qCACE,cAAC,IAAD,CAAMkB,GAAG,SAAT,SACE,6CAEF,cAAC,IAAD,CAAMA,GAAG,UAAT,SACE,0D,qDCtChB,IAAIC,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,yGACD,aAEJN,EAAQE,QAAUE,G,gCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,0GACD,SAEJN,EAAQE,QAAUE,G,gCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,0HACD,eAEJN,EAAQE,QAAUE,G,gCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAcF,EAAMI,SAAU,KAAmBJ,EAAME,cAAc,SAAU,CAC5IG,GAAI,KACJC,GAAI,KACJC,EAAG,MACYP,EAAME,cAAc,OAAQ,CAC3CC,EAAG,oBACA,gBAELN,EAAQE,QAAUE,G,yICrBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,mJACD,QAEJN,EAAQE,QAAUE,G,qDCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,wJACD,UAEJN,EAAQE,QAAUE,G,gCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,wIACD,SAEJN,EAAQE,QAAUE,G,0MCZH,SAASO,EAAT,GAOX,IANFC,EAMC,EANDA,MACAC,EAKC,EALDA,eACA9B,EAIC,EAJDA,SACAG,EAGC,EAHDA,YACAC,EAEC,EAFDA,eACAX,EACC,EADDA,KAEA,EAA0BH,mBAAS,IAAnC,mBAAOnB,EAAP,KAAc4D,EAAd,KACMC,EAAsB,KAAV7D,EACVnB,EAAa0C,qBAAWW,KAAxBrD,SACFiF,EAAU1B,cAkBhB,OACE,sBAAKE,UAAW,YAAcN,GAAe,UAA7C,UACE,sBAAKM,UAAU,eAAf,UACGoB,EAAMnE,KAAI,SAACwE,GAAD,OACT,qBAAKzB,UAAU,oBAAf,SACE,sBAAMA,UAAU,YAAYC,QAAS,kBAfvB,SAACwB,GACvBJ,EAAeI,GACf9B,GAAe,GAaoC+B,CAAgBD,IAA3D,SACGA,EAAK9C,gBAIXK,GACC,uBAAMgB,UAAU,MAAhB,UACE,wBAAQ2B,SAAUJ,EAAWK,KAAK,SAAS3B,QA5B/B,SAAC4B,GACrBA,EAAMC,iBACNrD,YAAQc,EAASnC,MAAOM,GACxB4D,EAAS,KAyBD,SACE,cAAC,IAAD,CAAetB,UAAU,eAE3B,uBACE+B,YAAY,aACZtB,MAAO/C,EACPsE,SAAU,SAACC,GAAD,OAAOX,EAASW,EAAEC,OAAOzB,gBAK1CzB,GACC,wBACEgB,UAAU,UACVC,QAAS,kBA9Bf1D,EAAS4F,OAAOC,eAChBZ,EAAQa,KAAK,WA8BPC,UAAW,SAACL,GACI,UAAVA,EAAEM,MACJf,EAAQa,KAAK,UACb9F,EAAS4F,OAAOC,YANtB,wB,4ECrDO,SAASI,EAAT,GAAgE,IAAhDC,EAA+C,EAA/CA,KAAMlD,EAAyC,EAAzCA,SAAUkC,EAA+B,EAA/BA,KAAMiB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAC7D,EAAkC9D,mBAAS,IAA3C,mBAAO+D,EAAP,KAAkBC,EAAlB,KACA,EAAgChE,mBAAS,IAAzC,mBAAOiE,EAAP,KAAiBC,EAAjB,KAEA,SAASC,EAAWC,GAClB,OAAO,IAAIjF,KAAKiF,GAAMC,mBAAmB,SAG3C,IAAMC,EAAc,uCAAG,sBAAA7G,EAAA,6DACrB8G,QAAQC,IAAI,aADS,SAGfC,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXc,IAAIkF,EAAKlE,YACTgF,OAAO,CACNpF,SAAUyE,IAXO,uBAcfU,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkF,EAAKjE,YACT+E,OAAO,CACNpF,SAAUyE,IApBO,2CAAH,qDAwBdY,EAAc,uCAAG,sBAAAlH,EAAA,sEACfgH,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXc,IAAIkF,EAAKlE,YACTgF,OAAO,CACNlF,IAAKyE,IATY,uBAYfQ,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkF,EAAKjE,YACT+E,OAAO,CACNlF,IAAKyE,IAlBY,2CAAH,qDAsBpB,OACE,sBAAK9C,UAAU,YAAf,UACE,cAAC,IAAD,CACEA,UAAU,aACVC,QAAS,kBAAM0C,GAAaD,MAE9B,sBAAK1C,UAAU,OAAf,UACE,sCACA,sBAAKA,UAAU,aAAf,UACE,uBACE4B,KAAK,OACLG,YAAW,UAAKU,EAAKtE,UACrB6D,SAAU,SAACC,GAAD,OAAOY,EAAaZ,EAAEC,OAAOzB,UAEzC,cAAC,IAAD,CAAUT,UAAU,YAAYC,QAAS,kBAAMkD,UAEjD,qCACA,sBAAKnD,UAAU,aAAf,UACE,uBACE4B,KAAK,OACL6B,QAAS,SAACxB,GACRA,EAAEyB,cAAc9B,KAAO,OACvBK,EAAEyB,cAAcC,SAElB5B,YAAW,UAAKiB,EAAWP,EAAKpE,MAChC2D,SAAU,SAACC,GAAD,OAAOc,EAAYd,EAAEC,OAAOzB,UAExC,cAAC,IAAD,CAAUT,UAAU,YAAYC,QAAS,kBAAMuD,UAEjD,yCACA,4BAAIR,EAAWP,EAAK1E,eACpB,wCACC0E,EAAKrE,UACJ,mBAAG4B,UAAU,cAAb,uBAEA,2CAEF,yCAECyC,EAAKnE,OAAS,mBAAG0B,UAAU,WAAb,oBAAqC,iD,MChG7C,SAAS4D,EAAT,GAIX,IAHFC,EAGC,EAHDA,iBAEAC,GACC,EAFDC,WAEC,EADDD,eAWA,OACE,sBAAK9D,UAAU,cAAf,UACE,wBAAQA,UAAU,SAASC,QAAS,WALtC6D,GAAc,SAACC,GAAD,OAAiBA,MAK7B,oBAGA,wBAAQ/D,UAAU,SAASC,QAAS,kBAbtC4D,SACAC,GAAc,SAACC,GAAD,OAAiBA,MAY7B,uB,uDCZS,SAASC,EAAT,GAA0D,IA6EnDf,EA7ESR,EAAyC,EAAzCA,KAAMlD,EAAmC,EAAnCA,SAAUkC,EAAyB,EAAzBA,KAAMrD,EAAmB,EAAnBA,UACnD,GADsE,EAAR6F,KAChBpF,mBAAST,IAAvD,mBAAO8F,EAAP,KAAwBC,EAAxB,KACA,EAAwCtF,mBAAS4D,EAAKnE,QAAtD,mBAAO8F,EAAP,KAAqBC,EAArB,KACA,EAAgCxF,oBAAS,GAAzC,mBAAO6D,EAAP,KAAiBC,EAAjB,KACA,EAAoC9D,oBAAS,GAA7C,mBAAOkF,EAAP,KAAmBD,EAAnB,KAGMQ,EAAqB,uCAAG,sBAAAhI,EAAA,6DAC5B6H,GAAmB,SAACD,GAAD,OAAsBA,KADb,SAGtBZ,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXc,IAAIkF,EAAKlE,YACTgF,OAAO,CACNnF,WAAW8F,IAXa,uBActBZ,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkF,EAAKjE,YACT+E,OAAO,CACNnF,WAAW8F,IApBa,OAsB5Bd,QAAQC,IAAI,kBAAmBZ,EAAKtE,UAtBR,2CAAH,qDA0BrBoG,EAAkB,uCAAG,sBAAAjI,EAAA,6DACzB+H,GAAgB,SAACD,GAAD,OAAmBA,KADV,SAGnBd,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXc,IAAIkF,EAAKlE,YACTgF,OAAO,CACNjF,QAAQ8F,IAXa,uBAcnBd,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkF,EAAKjE,YACT+E,OAAO,CACNjF,QAAQ8F,IApBa,OAsBzBhB,QAAQC,IAAI,gBAAiBZ,EAAKtE,UAtBT,2CAAH,qDA0BlB0F,EAAgB,uCAAG,sBAAAvH,EAAA,sEACjBgH,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXc,IAAIkF,EAAKlE,YACTiG,SARoB,uBAUjBlB,IACH7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkF,EAAKjE,YACTgG,SAfoB,2CAAH,qDAsBtB,OACE,sBAAKxE,UAAU,sBAAf,UACE,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,OAAf,UAEE,qBAAKA,UAAU,iBAAiBC,QAASqE,EAAzC,SAEI,cAAC,IAAD,CAAiBtE,UAAS,UAAKyC,EAAKrE,UAAV,kBAO9B,qBAAK4B,UAAU,iBAAiBC,QAASsE,EAAzC,SAEI,cAAC,IAAD,CAAkBvE,UAAS,UAAKyC,EAAKnE,OAAV,eAM/B,oBACE0B,UAAU,OACVC,QAAS,kBAAM0C,GAAY,SAACD,GAAD,OAAeA,MAF5C,UAIGD,EAAKtE,SACN,cAAC,IAAD,CAAY6B,UAAU,sBAI1B,sBAAKA,UAAU,QAAf,UACE,oBACEA,UAAU,OACVC,QAAS,kBAAM0C,GAAY,SAACD,GAAD,OAAeA,MAF5C,UAIE,cAAC,IAAD,CAAY1C,UAAU,iBAxCZiD,EAyCER,EAAKpE,IAxClB,IAAIL,KAAKiF,GAAMC,mBAAmB,aA0CnC,qBACElD,UAAU,iBACVC,QAAS,kBAAM6D,GAAc,SAACC,GAAD,OAAiBA,MAFhD,SAIE,cAAC,IAAD,CAAW/D,UAAU,sBAK1B0C,GACC,qBAAK1C,UAAU,iBAAf,SACE,cAACwC,EAAD,CACEC,KAAMA,EACNlD,SAAUA,EACVkC,KAAMA,EACNiB,SAAUA,EACVC,YAAaA,MAKlBoB,GACC,qBAAK/D,UAAU,iBAAf,SACE,cAAC4D,EAAD,CACEC,iBAAkBA,EAClBE,WAAYA,EACZD,cAAeA,S,qBCjJZ,SAASW,EAAT,GAAmC,IAAnBhD,EAAkB,EAAlBA,KAAMlC,EAAY,EAAZA,SACnC,EAA0BV,mBAAS,IAAnC,mBAAO6F,EAAP,KAAcC,EAAd,KACA,EAA0B9F,mBAAS,IAAnC,mBAAOnB,EAAP,KAAc4D,EAAd,KACMC,EAAsB,KAAV7D,EAClB,EAAwBmB,mBAAS,OAAjC,mBAAOoF,EAAP,KAAaW,EAAb,KACA,EAAsB/F,mBAAS,OAA/B,mBAAOgG,EAAP,KAAYC,EAAZ,KAEA3F,qBAAU,WACRiE,QAAQC,IAAI,eAAMY,GAClBX,IAAG7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXc,IAAIkE,EAAKhE,QACThB,WAAW,SACXsI,QAAQd,EAAMY,GACdG,YAAW,SAACC,GACXN,EAASM,EAASpI,KAAKI,KAAI,SAACM,GAAD,OAASA,EAAIJ,gBAE3C,CAACsE,EAAMwC,EAAMY,IAyChB,OACE,cAAC,WAAD,CAAUK,SAAU,mBAAGlF,UAAU,WAAb,wBAApB,SACE,sBAAKA,UAAU,OAAf,eACmBD,IAAhB0B,EAAKhE,QACJ,uBAAMuC,UAAU,MAAhB,UACE,wBAAQ2B,SAAUJ,EAAWK,KAAK,SAAS3B,QA5C/B,SAAC4B,GACrBA,EAAMC,iBACNtE,YAAQiE,EAAKhE,OAAQ8B,EAASnC,MAAOM,GACrC4D,EAAS,KAyCD,SACE,cAAC,IAAD,CAAetB,UAAU,eAE3B,uBACE+B,YAAY,aACZtB,MAAO/C,EACPsE,SAAU,SAACC,GAAD,OAAOX,EAASW,EAAEC,OAAOzB,aAIzC,qBAAKT,UAAU,kBAAf,SACG0E,EAAMzH,KAAI,SAACC,GAAD,OACT,mCACE,cAAC8G,EAAD,CACEvB,KAAMvF,EACNqC,SAAUA,EACVkC,KAAMA,EACNrD,UAAWlB,EAAKkB,mBAKxB,sBAAK4B,UAAU,UAAf,UACE,wBAAQC,QAAS,kBAtCvB2E,EAAQ,aACRE,EAAO,aAMP1B,QAAQC,IAAI,mBAAoBqB,IA+B1B,SACE,cAAC,IAAD,CACE1E,UACW,cAATiE,EAAuB,qBAAuB,kBAIpD,wBAAQhE,QAAS,kBAxDvB2E,EAAQ,UACRE,EAAO,aAMP1B,QAAQC,IAAI,qBAAsBqB,IAiD5B,SACE,cAAC,IAAD,CACE1E,UACW,WAATiE,EAAoB,uBAAyB,oBAInD,wBAAQhE,QAAS,kBA1EvB2E,EAAQ,OACRE,EAAO,YAMP1B,QAAQC,IAAI,iBAAkBqB,IAmExB,SACE,cAAC,IAAD,CACE1E,UAAoB,QAATiE,EAAiB,mBAAqB,wBCtGhD,SAASkB,IACtB,IAAMC,EAAY,CAChBzG,SAAU,GACV+F,MAAO,CAAC,CAAEvG,SAAU,UAMhBkH,EAAW,CAACD,EAJC,CACjBzG,SAAU,GACV+F,MAAO,CAAC,CAAEvG,SAAU,WAGda,EAASC,qBAAWC,KAApBF,KACAO,EAAaX,cAAbW,SACR,EAA0BV,mBAASwG,GAAnC,mBAAOjE,EAAP,KAAckE,EAAd,KACA,EAAsCzG,mBAASuG,GAA/C,mBAAOG,EAAP,KAAoBlE,EAApB,KACA,EAAsCxC,oBAAS,GAA/C,mBAAOa,EAAP,KAAoBC,EAApB,KACM6B,EAAU1B,cAqChB,OAlCAX,qBAAU,WAAM,4CACd,4BAAA7C,EAAA,sEACyBgB,YAAgBiC,EAASnC,OADlD,YACQoI,EADR,wBAGIF,EAASE,GAHb,4FADc,uBAAC,WAAD,wBAUdC,GACApE,EAAeD,EAAM,MACpB,CAAC7B,EAASnC,QAGb+B,qBAAU,WACRmE,IAAG7G,WAAW,SACXc,IAAIgC,EAASnC,OACbX,WAAW,SACXuI,YAAW,SAACC,GACX7B,QAAQC,IACN,WACA4B,EAASpI,KAAKI,KAAI,SAACM,GAAD,OAASA,EAAIJ,WAEjCmI,EAASL,EAASpI,KAAKI,KAAI,SAACM,GAAD,OAASA,EAAIJ,gBAE3C,CAACoI,IAEJpG,qBAAU,WACHH,GACHwC,EAAQa,KAAK,YAEd,CAACrD,IAGF,sBAAKgB,UAAU,OAAf,UACE,cAACR,EAAA,EAAD,CACEC,MAAO8F,EAAY5G,SACnBe,YAAaA,EACbC,eAAgBA,IAElB,cAACwB,EAAD,CACEC,MAAOA,EACPC,eAAgBA,EAChB9B,SAAUA,EACVG,YAAaA,EACbC,eAAgBA,EAChBX,KAAMA,IAER,cAACyF,EAAD,CAAMhD,KAAM8D,EAAahG,SAAUA","file":"static/js/4.32a70362.chunk.js","sourcesContent":["import { firebase, FieldValue } from \"../lib/firebase\";\r\n\r\nexport async function doesUsernameExist(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// get user from the firestore wher userId == userId(passed from the auth) 笨能r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// get lists (plural) 笨能r\nexport async function getListsByDocId(docId) {\r\n  let result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(docId)\r\n    .collection(\"lists\")\r\n    .get();\r\n\r\n  result = result.docs.map((item) => ({\r\n    ...item.data(),\r\n  }));\r\n\r\n  return result;\r\n}\r\n\r\n// get tasks 笨能r\nexport async function getTasksFromListId(listId, userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userId)\r\n    .collection(\"lists\")\r\n    .doc(listId)\r\n    .collection(\"tasks\")\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// add task 笨能r\nexport async function addTask(listId, userId, input) {\r\n  // var taskDocRef = await firebase\r\n  // .firestore()\r\n  // .collection(\"users\")\r\n  // .doc(userId)\r\n  // .collection(\"lists\")\r\n  // .doc(listId)\r\n  // .collection(\"tasks\")\r\n  // .doc();\r\n\r\n  var userDocRef = await firebase.firestore().collection(\"users\").doc(userId);\r\n\r\n  var listsDocRef = userDocRef.collection(\"lists\").doc(listId);\r\n  var tasksInListDocRef = listsDocRef.collection(\"tasks\").doc();\r\n  var tasksMainDocRef = userDocRef.collection(\"tasks\").doc();\r\n  var dateCreated = Date.now();\r\n  // var dateCreated = new Date().toString().split(\" \").splice(1, 3).join(\" \");\r\n\r\n  tasksInListDocRef.set({\r\n    taskName: input,\r\n    dateCreated: dateCreated,\r\n    completed: false,\r\n    due: dateCreated,\r\n    urgent: false,\r\n    taskIdList: tasksInListDocRef.id,\r\n    taskIdMain: tasksMainDocRef.id,\r\n  });\r\n\r\n  tasksMainDocRef.set({\r\n    taskName: input,\r\n    dateCreated: dateCreated,\r\n    completed: false,\r\n    due: dateCreated,\r\n    urgent: false,\r\n    taskIdList: tasksInListDocRef.id,\r\n    taskIdMain: tasksMainDocRef.id,\r\n  });\r\n}\r\n\r\n// add list\r\nexport async function addList(userId, input) {\r\n  var listDocRef = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userId)\r\n    .collection(\"lists\")\r\n    .doc();\r\n\r\n  listDocRef.set({\r\n    listName: input,\r\n    dateCreated: Date.now(),\r\n    listId: listDocRef.id,\r\n  });\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId() {\r\n      const [response] = await getUserByUserId(user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  // returns userInfo variable, cannot return user variable as that is used in userContext\r\n  return { userInfo: activeUser };\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./navbar.scss\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport useUser from \"../../hooks/use-user\";\r\n// icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nexport default function Navbar({ title, sidebarOpen, setSidebarOpen }) {\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const history = useHistory();\r\n  let navTitle = title === undefined ? \"To-Do List\" : title;\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"relative\">\r\n        <div className=\"left\">\r\n          <div\r\n            className=\"hamburger\"\r\n            onClick={() => setSidebarOpen(!sidebarOpen)}\r\n          >\r\n            <MenuIcon className=\"icon\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <Link className=\"link-title\" to=\"/\">\r\n            <h2>{`${navTitle}`}</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"right\">\r\n          {!user && (\r\n            <>\r\n              <Link to=\"/login\">\r\n                <button>Login</button>\r\n              </Link>\r\n              <Link to=\"/signup\">\r\n                <button>Signup</button>\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"\n}), 'AddCircle');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckCircle');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"19\",\n  r: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 3h4v12h-4z\"\n})), 'PriorityHigh');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"\n}), 'Today');\n\nexports.default = _default;","import React, { useState, useContext } from \"react\";\r\nimport { addList } from \"../../services/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport \"./sidebar.scss\";\r\n\r\nexport default function Sidebar({\r\n  lists,\r\n  setCurrentList,\r\n  userInfo,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n  user,\r\n}) {\r\n  const [input, setInput] = useState(\"\");\r\n  const isInvalid = input === \"\";\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const history = useHistory();\r\n\r\n  const handleAddList = (event) => {\r\n    event.preventDefault();\r\n    addList(userInfo.docId, input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const handleListClick = (list) => {\r\n    setCurrentList(list);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    firebase.auth().signOut();\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className={\"sidebar \" + (sidebarOpen && \"active\")}>\r\n      <div className=\"sidebar-list\">\r\n        {lists.map((list) => (\r\n          <div className=\"sidebar-list-item\">\r\n            <span className=\"list-name\" onClick={() => handleListClick(list)}>\r\n              {list.listName}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        {user && (\r\n          <form className=\"add\">\r\n            <button disabled={isInvalid} type=\"submit\" onClick={handleAddList}>\r\n              <AddCircleIcon className=\"add-icon\" />\r\n            </button>\r\n            <input\r\n              placeholder=\"Add a list\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n          </form>\r\n        )}\r\n      </div>\r\n      {user && (\r\n        <button\r\n          className=\"signout\"\r\n          onClick={() => handleSignOut()}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"enter\") {\r\n              history.push(\"/login\");\r\n              firebase.auth().signOut();\r\n            }\r\n          }}\r\n        >\r\n          Signout\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./edit.scss\";\r\nimport db from \"../../../../lib/firebase\";\r\n// icons\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nexport default function Edit({ task, userInfo, list, showEdit, setShowEdit }) {\r\n  const [inputName, setInputName] = useState(\"\");\r\n  const [inputDue, setInputDue] = useState(\"\");\r\n\r\n  function formatDate(date) {\r\n    return new Date(date).toLocaleDateString(\"en-US\");\r\n  }\r\n\r\n  const handleSaveName = async () => {\r\n    console.log(\"save name\");\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        taskName: inputName,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        taskName: inputName,\r\n      });\r\n  };\r\n\r\n  const handleSaveDate = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        due: inputDue,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        due: inputDue,\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-item\">\r\n      <CloseIcon\r\n        className=\"close-edit\"\r\n        onClick={() => setShowEdit(!showEdit)}\r\n      />\r\n      <div className=\"info\">\r\n        <p>Task:</p>\r\n        <div className=\"edit-input\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder={`${task.taskName}`}\r\n            onChange={(e) => setInputName(e.target.value)}\r\n          ></input>\r\n          <SaveIcon className=\"save-icon\" onClick={() => handleSaveName()} />\r\n        </div>\r\n        <p>Due:</p>\r\n        <div className=\"edit-input\">\r\n          <input\r\n            type=\"text\"\r\n            onFocus={(e) => {\r\n              e.currentTarget.type = \"date\";\r\n              e.currentTarget.focus();\r\n            }}\r\n            placeholder={`${formatDate(task.due)}`}\r\n            onChange={(e) => setInputDue(e.target.value)}\r\n          ></input>\r\n          <SaveIcon className=\"save-icon\" onClick={() => handleSaveDate()} />\r\n        </div>\r\n        <p>Created:</p>\r\n        <p>{formatDate(task.dateCreated)}</p>\r\n        <p>Status:</p>\r\n        {task.completed ? (\r\n          <p className=\"completed-p\">Completed</p>\r\n        ) : (\r\n          <p>Incomplete</p>\r\n        )}\r\n        <p>Urgency:</p>\r\n\r\n        {task.urgent ? <p className=\"urgent-p\">URGENT</p> : <p>Not urgent</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./delete.scss\";\r\n// icons\r\n\r\nexport default function Delete({\r\n  handleDeleteTask,\r\n  showDelete,\r\n  setShowDelete,\r\n}) {\r\n  const handleDelete = () => {\r\n    handleDeleteTask();\r\n    setShowDelete((showDelete) => !showDelete);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowDelete((showDelete) => !showDelete);\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-item\">\r\n      <button className=\"cancel\" onClick={() => handleCancel()}>\r\n        Cancel\r\n      </button>\r\n      <button className=\"delete\" onClick={() => handleDelete()}>\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./task.scss\";\r\nimport db from \"../../../lib/firebase\";\r\nimport Edit from \"./edit/Edit\";\r\nimport Delete from \"./delete/Delete\";\r\n// icons\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport PriorityHighIcon from \"@material-ui/icons/PriorityHigh\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\n\r\nexport default function Task({ task, userInfo, list, completed, sort }) {\r\n  const [toggleCompleted, setToggleCompleted] = useState(completed);\r\n  const [toggleUrgent, setToggleUrgent] = useState(task.urgent);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [showDelete, setShowDelete] = useState(false);\r\n\r\n  // completed\r\n  const handleToggleCompleted = async () => {\r\n    setToggleCompleted((toggleCompleted) => !toggleCompleted);\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        completed: toggleCompleted ? false : true,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        completed: toggleCompleted ? false : true,\r\n      });\r\n    console.log(\"toggle complete\", task.taskName);\r\n  };\r\n\r\n  // urgent\r\n  const handleToggleUrgent = async () => {\r\n    setToggleUrgent((toggleUrgent) => !toggleUrgent);\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        urgent: toggleUrgent ? false : true,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        urgent: toggleUrgent ? false : true,\r\n      });\r\n    console.log(\"toggle urgent\", task.taskName);\r\n  };\r\n\r\n  // delete\r\n  const handleDeleteTask = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .delete();\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .delete();\r\n  };\r\n\r\n  function formatDate(date) {\r\n    return new Date(date).toLocaleDateString(\"en-US\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"list-item-container\">\r\n      <div className=\"list-item\">\r\n        <div className=\"left\">\r\n          {/* completed */}\r\n          <div className=\"icon-container\" onClick={handleToggleCompleted}>\r\n            {toggleCompleted ? (\r\n              <CheckCircleIcon className={`${task.completed}-completed`} />\r\n            ) : (\r\n              <CheckCircleIcon className={`${task.completed}-completed`} />\r\n            )}\r\n          </div>\r\n\r\n          {/* urgent */}\r\n          <div className=\"icon-container\" onClick={handleToggleUrgent}>\r\n            {toggleUrgent ? (\r\n              <PriorityHighIcon className={`${task.urgent}-urgent`} />\r\n            ) : (\r\n              <PriorityHighIcon className={`${task.urgent}-urgent`} />\r\n            )}\r\n          </div>\r\n\r\n          <p\r\n            className=\"task\"\r\n            onClick={() => setShowEdit((showEdit) => !showEdit)}\r\n          >\r\n            {task.taskName}\r\n            <CreateIcon className=\"create-icon\" />\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"right\">\r\n          <p\r\n            className=\"date\"\r\n            onClick={() => setShowEdit((showEdit) => !showEdit)}\r\n          >\r\n            <CreateIcon className=\"create-icon\" />\r\n            {formatDate(task.due)}\r\n          </p>\r\n          <div\r\n            className=\"icon-container\"\r\n            onClick={() => setShowDelete((showDelete) => !showDelete)}\r\n          >\r\n            <CloseIcon className=\"closeIcon\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showEdit && (\r\n        <div className=\"edit-contianer\">\r\n          <Edit\r\n            task={task}\r\n            userInfo={userInfo}\r\n            list={list}\r\n            showEdit={showEdit}\r\n            setShowEdit={setShowEdit}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showDelete && (\r\n        <div className=\"edit-contianer\">\r\n          <Delete\r\n            handleDeleteTask={handleDeleteTask}\r\n            showDelete={showDelete}\r\n            setShowDelete={setShowDelete}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { addTask } from \"../../services/firebase\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport \"./list.scss\";\r\nimport Task from \"./task/Task\";\r\nimport db from \"../../lib/firebase\";\r\nimport { Suspense } from \"react\";\r\n// icons\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport PriorityHighIcon from \"@material-ui/icons/PriorityHigh\";\r\nimport TodayIcon from \"@material-ui/icons/Today\";\r\n\r\nexport default function List({ list, userInfo }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const isInvalid = input === \"\";\r\n  const [sort, setSort] = useState(\"due\");\r\n  const [dir, setDir] = useState(\"asc\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"沽彌", sort);\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .orderBy(sort, dir)\r\n      .onSnapshot((snapshot) => {\r\n        setTasks(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  }, [list, sort, dir]);\r\n\r\n  const handleAddTask = (event) => {\r\n    event.preventDefault();\r\n    addTask(list.listId, userInfo.docId, input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const sortByDate = () => {\r\n    setSort(\"due\");\r\n    setDir(\"asc\");\r\n    // tasks.sort(function compare(a, b) {\r\n    //   var dateA = new Date(a.due);\r\n    //   var dateB = new Date(b.due);\r\n    //   return dateA - dateB;\r\n    // });\r\n    console.log(\"sorted by DATE\", tasks);\r\n  };\r\n\r\n  const sortByPriority = () => {\r\n    setSort(\"urgent\");\r\n    setDir(\"desc\");\r\n    // tasks.sort(function compare(a, b) {\r\n    //   var taskA = a.urgent;\r\n    //   var taskB = b.urgent;\r\n    //   return taskA === taskB ? 0 : taskA ? -1 : 1;\r\n    // });\r\n    console.log(\"sorted by PRIORITY\", tasks);\r\n  };\r\n\r\n  const sortByStatus = () => {\r\n    setSort(\"completed\");\r\n    setDir(\"desc\");\r\n    // tasks.sort(function compare(a, b) {\r\n    //   var taskA = a.completed;\r\n    //   var taskB = b.completed;\r\n    //   return taskA === taskB ? 0 : taskA ? -1 : 1;\r\n    // });\r\n    console.log(\"sorted by STATUS\", tasks);\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<p className=\"suspense\">loading...</p>}>\r\n      <div className=\"list\">\r\n        {list.listId !== undefined && (\r\n          <form className=\"add\">\r\n            <button disabled={isInvalid} type=\"submit\" onClick={handleAddTask}>\r\n              <AddCircleIcon className=\"add-icon\" />\r\n            </button>\r\n            <input\r\n              placeholder=\"Add a task\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n          </form>\r\n        )}\r\n        <div className=\"tasks-container\">\r\n          {tasks.map((item) => (\r\n            <>\r\n              <Task\r\n                task={item}\r\n                userInfo={userInfo}\r\n                list={list}\r\n                completed={item.completed}\r\n              />\r\n            </>\r\n          ))}\r\n        </div>\r\n        <div className=\"sortbar\">\r\n          <button onClick={() => sortByStatus()}>\r\n            <CheckCircleIcon\r\n              className={\r\n                sort === \"completed\" ? \"sort-status active\" : \"sort-status\"\r\n              }\r\n            />\r\n          </button>\r\n          <button onClick={() => sortByPriority()}>\r\n            <PriorityHighIcon\r\n              className={\r\n                sort === \"urgent\" ? \"sort-priority active\" : \"sort-priority\"\r\n              }\r\n            />\r\n          </button>\r\n          <button onClick={() => sortByDate()}>\r\n            <TodayIcon\r\n              className={sort === \"due\" ? \"sort-date active\" : \"sort-date\"}\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport UserContext from \"../../context/user\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport { getListsByDocId } from \"../../services/firebase\";\r\nimport \"./dashboard.scss\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport List from \"../../components/list/List\";\r\nimport db from \"../../lib/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Main() {\r\n  const emptyList = {\r\n    listName: \"\",\r\n    tasks: [{ taskName: \"none\" }],\r\n  };\r\n  const emptyList2 = {\r\n    listName: \"\",\r\n    tasks: [{ taskName: \"none\" }],\r\n  };\r\n  const emptyArr = [emptyList, emptyList2];\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const [lists, setLists] = useState(emptyArr);\r\n  const [currentList, setCurrentList] = useState(emptyList);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const history = useHistory();\r\n\r\n  // load lists upon initial load\r\n  useEffect(() => {\r\n    async function loadLists() {\r\n      const listData = await getListsByDocId(userInfo.docId);\r\n      if (listData) {\r\n        setLists(listData);\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    loadLists();\r\n    setCurrentList(lists[0]);\r\n  }, [userInfo.docId]);\r\n\r\n  // update dashboard to include newly added list\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .onSnapshot((snapshot) => {\r\n        console.log(\r\n          \"snapshot\",\r\n          snapshot.docs.map((doc) => doc.data())\r\n        );\r\n        setLists(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  }, [currentList]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <Navbar\r\n        title={currentList.listName}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <Sidebar\r\n        lists={lists}\r\n        setCurrentList={setCurrentList}\r\n        userInfo={userInfo}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        user={user}\r\n      />\r\n      <List list={currentList} userInfo={userInfo} />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}