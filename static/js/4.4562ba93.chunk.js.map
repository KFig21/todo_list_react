{"version":3,"sources":["services/firebase.js","components/sidebar/Sidebar.js","components/navbar/Navbar.js","components/list/task/edit/Edit.js","components/list/task/delete/Delete.js","components/list/task/Task.js","components/list/List.js","components/editList/EditList.js","pages/dashboard/Dashboard.js","hooks/use-user.js"],"names":["doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","docs","length","getUserByUserId","userId","map","item","data","docId","id","getListsByDocId","doc","addTask","listId","input","userDocRef","listsDocRef","tasksInListDocRef","tasksMainDocRef","dateCreated","Date","now","set","taskName","completed","due","urgent","taskIdList","taskIdMain","addList","listDocRef","listName","deleteTask","userInfo","list","task","delete","Sidebar","lists","setCurrentList","sidebarOpen","setSidebarOpen","user","useState","setInput","isInvalid","useContext","FirebaseContext","history","useHistory","className","index","onClick","handleListClick","disabled","type","event","preventDefault","placeholder","value","maxLength","onChange","e","target","auth","signOut","push","onKeyDown","key","Navbar","showListEdit","setShowListEdit","setShowDeleteList","UserContext","title","setTitle","useEffect","db","onSnapshot","snapshot","to","undefined","Edit","showEdit","setShowEdit","inputName","setInputName","inputDue","setInputDue","taskNameIsInvalid","dueDateIsInvalid","formatDate","date","toLocaleDateString","timeZone","handleSaveName","update","handleSaveDate","onFocus","currentTarget","focus","Delete","handleDeleteTask","setShowDelete","showDelete","Task","sort","toggleCompleted","setToggleCompleted","toggleUrgent","setToggleUrgent","handleToggleCompleted","handleToggleUrgent","List","tasks","setTasks","orderBy","filterBy","bool","filter","fallback","EditList","showDeleteList","handleDelete","i","Dashboard","emptyList","emptyArr","setLists","currentList","activeUser","setActiveUser","uid","response","getUserObjByUserId","useUser","setusername","listData","loadLists","document"],"mappings":"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","file":"static/js/4.4562ba93.chunk.js","sourcesContent":["// import { firebase, FieldValue } from \"../lib/firebase\";\r\nimport { firebase } from \"../lib/firebase\";\r\n\r\nexport async function doesUsernameExist(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// get user from the firestore wher userId == userId(passed from the auth) ✔\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// get lists (plural) ✔\r\nexport async function getListsByDocId(docId) {\r\n  let result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(docId)\r\n    .collection(\"lists\")\r\n    .get();\r\n\r\n  result = result.docs.map((item) => ({\r\n    ...item.data(),\r\n  }));\r\n\r\n  return result;\r\n}\r\n\r\n// get tasks ✔\r\nexport async function getTasksFromListId(listId, userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userId)\r\n    .collection(\"lists\")\r\n    .doc(listId)\r\n    .collection(\"tasks\")\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// add task ✔\r\nexport async function addTask(listId, userId, input) {\r\n  var userDocRef = await firebase.firestore().collection(\"users\").doc(userId);\r\n\r\n  var listsDocRef = userDocRef.collection(\"lists\").doc(listId);\r\n  var tasksInListDocRef = listsDocRef.collection(\"tasks\").doc();\r\n  var tasksMainDocRef = userDocRef.collection(\"tasks\").doc();\r\n  var dateCreated = Date.now();\r\n\r\n  tasksInListDocRef.set({\r\n    taskName: input,\r\n    dateCreated: dateCreated,\r\n    completed: false,\r\n    due: dateCreated,\r\n    urgent: false,\r\n    taskIdList: tasksInListDocRef.id,\r\n    taskIdMain: tasksMainDocRef.id,\r\n  });\r\n\r\n  tasksMainDocRef.set({\r\n    taskName: input,\r\n    dateCreated: dateCreated,\r\n    completed: false,\r\n    due: dateCreated,\r\n    urgent: false,\r\n    taskIdList: tasksInListDocRef.id,\r\n    taskIdMain: tasksMainDocRef.id,\r\n  });\r\n}\r\n\r\n// add list ✔\r\nexport async function addList(userId, input) {\r\n  var listDocRef = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userId)\r\n    .collection(\"lists\")\r\n    .doc();\r\n\r\n  listDocRef.set({\r\n    listName: input,\r\n    dateCreated: Date.now(),\r\n    listId: listDocRef.id,\r\n  });\r\n}\r\n\r\n// delete task\r\nexport async function deleteTask(userInfo, list, task) {\r\n  await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userInfo)\r\n    .collection(\"lists\")\r\n    .doc(list)\r\n    .collection(\"tasks\")\r\n    .doc(task)\r\n    .delete();\r\n\r\n  await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userInfo.docId)\r\n    .collection(\"tasks\")\r\n    .doc(task.taskIdMain)\r\n    .delete();\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { addList } from \"../../services/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./sidebar.scss\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\n\r\nexport default function Sidebar({\r\n  lists,\r\n  setCurrentList,\r\n  userInfo,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n  user,\r\n}) {\r\n  const [input, setInput] = useState(\"\");\r\n  const isInvalid = input === \"\";\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const history = useHistory();\r\n\r\n  const handleAddList = (event) => {\r\n    event.preventDefault();\r\n    addList(userInfo.docId, input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const handleListClick = (list) => {\r\n    setCurrentList(list);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    firebase.auth().signOut();\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className={\"sidebar \" + (sidebarOpen && \"active\")}>\r\n      <div className=\"sidebar-list\">\r\n        {lists.map((list, index) => (\r\n          <div className=\"sidebar-list-item\" key={`sidebar-${index}`}>\r\n            <span className=\"list-name\" onClick={() => handleListClick(list)}>\r\n              {list.listName}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        {user && (\r\n          <form className=\"add\">\r\n            <button disabled={isInvalid} type=\"submit\" onClick={handleAddList}>\r\n              <AddCircleIcon className=\"add-icon\" />\r\n            </button>\r\n            <input\r\n              placeholder=\"Add a list\"\r\n              value={input}\r\n              maxLength={20}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n          </form>\r\n        )}\r\n      </div>\r\n      {user && (\r\n        <button\r\n          className=\"signout\"\r\n          onClick={() => handleSignOut()}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"enter\") {\r\n              history.push(\"/login\");\r\n              firebase.auth().signOut();\r\n            }\r\n          }}\r\n        >\r\n          Signout\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./navbar.scss\";\r\nimport UserContext from \"../../context/user\";\r\nimport db from \"../../lib/firebase\";\r\n// icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nexport default function Navbar({\r\n  list,\r\n  userInfo,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n  showListEdit,\r\n  setShowListEdit,\r\n  setShowDeleteList,\r\n  username,\r\n}) {\r\n  const { user } = useContext(UserContext);\r\n  const [title, setTitle] = useState(list.listName);\r\n  const isInvalid = list.listName === \"\";\r\n\r\n  // update list name\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .onSnapshot((snapshot) => {\r\n        !snapshot.data() ? setTitle(title) : setTitle(snapshot.data().listName);\r\n      });\r\n  }, [list]);\r\n\r\n  const handleCloseLists = () => {\r\n    setShowListEdit(!showListEdit);\r\n    setShowDeleteList(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"relative\">\r\n        <div className=\"left\">\r\n          <div\r\n            className=\"hamburger\"\r\n            onClick={() => setSidebarOpen(!sidebarOpen)}\r\n          >\r\n            <MenuIcon className=\"icon\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <Link className=\"link-title\" to=\"/\">\r\n            {title === undefined || title === \"\" ? (\r\n              username === undefined ? (\r\n                <h2>To Do</h2>\r\n              ) : (\r\n                <h2>Welcome {`${username}`}</h2>\r\n              )\r\n            ) : (\r\n              <h2>{`${title}`}</h2>\r\n            )}\r\n          </Link>\r\n        </div>\r\n        <div className=\"right\">\r\n          {!user && (\r\n            <>\r\n              <Link to=\"/login\">\r\n                <button>Login</button>\r\n              </Link>\r\n              <Link to=\"/signup\">\r\n                <button>Signup</button>\r\n              </Link>\r\n            </>\r\n          )}\r\n          {user && !isInvalid && (\r\n            <MoreVertIcon\r\n              className=\"edit-list-icon\"\r\n              onClick={() => handleCloseLists()}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./edit.scss\";\r\nimport db from \"../../../../lib/firebase\";\r\n// icons\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nexport default function Edit({ task, userInfo, list, showEdit, setShowEdit }) {\r\n  const [inputName, setInputName] = useState(\"\");\r\n  const [inputDue, setInputDue] = useState(\"\");\r\n  const taskNameIsInvalid = inputName === \"\";\r\n  const dueDateIsInvalid = inputDue === \"\";\r\n\r\n  function formatDate(date) {\r\n    return new Date(date).toLocaleDateString(\"en-US\", { timeZone: \"UTC\" });\r\n  }\r\n\r\n  const handleSaveName = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        taskName: inputName,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        taskName: inputName,\r\n      });\r\n  };\r\n\r\n  const handleSaveDate = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        due: inputDue,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        due: inputDue,\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={showEdit ? \"edit-item\" : \"edit-item inactive\"}>\r\n      <button>\r\n        <CloseIcon\r\n          className=\"close-edit\"\r\n          onClick={() => setShowEdit(!showEdit)}\r\n        />\r\n      </button>\r\n      <div className=\"info\">\r\n        {/* edit task input */}\r\n        <p>Task:</p>\r\n        <div className=\"edit-input\">\r\n          <input\r\n            type=\"text\"\r\n            maxLength={1000}\r\n            placeholder={`${task.taskName}`}\r\n            onChange={(e) => setInputName(e.target.value)}\r\n          ></input>\r\n          <button disabled={taskNameIsInvalid} onClick={() => handleSaveName()}>\r\n            <SaveIcon className=\"save-icon\" />\r\n          </button>\r\n        </div>\r\n        {/* edit due date input */}\r\n        <p>Due:</p>\r\n        <div className=\"edit-input\">\r\n          <input\r\n            type=\"text\"\r\n            onFocus={(e) => {\r\n              e.currentTarget.type = \"date\";\r\n              e.currentTarget.focus();\r\n            }}\r\n            placeholder={`${formatDate(task.due)}`}\r\n            onChange={(e) => setInputDue(e.target.value)}\r\n          ></input>\r\n          <button disabled={dueDateIsInvalid} onClick={() => handleSaveDate()}>\r\n            <SaveIcon className=\"save-icon\" />\r\n          </button>\r\n        </div>\r\n        <p>Created:</p>\r\n        <p className=\"padding-left\">{formatDate(task.dateCreated)}</p>\r\n        <p>Status:</p>\r\n        {task.completed ? (\r\n          <p className=\"completed-p padding-left\">Completed</p>\r\n        ) : (\r\n          <p className=\"padding-left\">Incomplete</p>\r\n        )}\r\n        <p>Priority:</p>\r\n\r\n        {task.urgent ? (\r\n          <p className=\"urgent-p padding-left\">HIGH</p>\r\n        ) : (\r\n          <p className=\"padding-left\">None</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./delete.scss\";\r\n// icons\r\n\r\nexport default function Delete({\r\n  handleDeleteTask,\r\n  showDelete,\r\n  setShowDelete,\r\n}) {\r\n  const handleDelete = () => {\r\n    handleDeleteTask();\r\n    setShowDelete((showDelete) => !showDelete);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowDelete((showDelete) => !showDelete);\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-item\">\r\n      <button className=\"cancel\" onClick={() => handleCancel()}>\r\n        Cancel\r\n      </button>\r\n      <button className=\"delete\" onClick={() => handleDelete()}>\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./task.scss\";\r\nimport db from \"../../../lib/firebase\";\r\nimport Edit from \"./edit/Edit\";\r\nimport Delete from \"./delete/Delete\";\r\n// icons\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport PriorityHighIcon from \"@material-ui/icons/PriorityHigh\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\n\r\nexport default function Task({ task, userInfo, list, completed, sort, index }) {\r\n  const [toggleCompleted, setToggleCompleted] = useState(completed);\r\n  const [toggleUrgent, setToggleUrgent] = useState(task.urgent);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [showDelete, setShowDelete] = useState(false);\r\n\r\n  // completed\r\n  const handleToggleCompleted = async () => {\r\n    setToggleCompleted((toggleCompleted) => !toggleCompleted);\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        completed: toggleCompleted ? false : true,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        completed: toggleCompleted ? false : true,\r\n      });\r\n  };\r\n\r\n  // urgent\r\n  const handleToggleUrgent = async () => {\r\n    setToggleUrgent((toggleUrgent) => !toggleUrgent);\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .update({\r\n        urgent: toggleUrgent ? false : true,\r\n      });\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .update({\r\n        urgent: toggleUrgent ? false : true,\r\n      });\r\n  };\r\n\r\n  // delete\r\n  const handleDeleteTask = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdList)\r\n      .delete();\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"tasks\")\r\n      .doc(task.taskIdMain)\r\n      .delete();\r\n  };\r\n\r\n  function formatDate(date) {\r\n    return new Date(date).toLocaleDateString(\"en-US\", { timeZone: \"UTC\" });\r\n  }\r\n\r\n  return (\r\n    <div className=\"list-item-container\" key={index}>\r\n      <div className=\"list-item\">\r\n        <div className=\"left\">\r\n          {/* completed */}\r\n          <div className=\"icon-container\" onClick={handleToggleCompleted}>\r\n            {toggleCompleted ? (\r\n              <CheckCircleIcon className={`${task.completed}-completed`} />\r\n            ) : (\r\n              <CheckCircleIcon className={`${task.completed}-completed`} />\r\n            )}\r\n          </div>\r\n\r\n          {/* urgent */}\r\n          <div className=\"icon-container\" onClick={handleToggleUrgent}>\r\n            {toggleUrgent ? (\r\n              <PriorityHighIcon className={`${task.urgent}-urgent`} />\r\n            ) : (\r\n              <PriorityHighIcon className={`${task.urgent}-urgent`} />\r\n            )}\r\n          </div>\r\n\r\n          {/* task name */}\r\n          <p\r\n            className=\"task\"\r\n            onClick={() => setShowEdit((showEdit) => !showEdit)}\r\n          >\r\n            {task.taskName}\r\n            <CreateIcon className=\"create-icon\" />\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"right\">\r\n          {/* due date */}\r\n          <p\r\n            className=\"date\"\r\n            onClick={() => setShowEdit((showEdit) => !showEdit)}\r\n          >\r\n            <CreateIcon className=\"create-icon\" />\r\n            {formatDate(task.due)}\r\n          </p>\r\n\r\n          {/* delete */}\r\n          <div\r\n            className=\"icon-container\"\r\n            onClick={() => setShowDelete((showDelete) => !showDelete)}\r\n          >\r\n            <CloseIcon className=\"closeIcon\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showEdit && (\r\n        <div className=\"edit-contianer\">\r\n          <Edit\r\n            task={task}\r\n            userInfo={userInfo}\r\n            list={list}\r\n            showEdit={showEdit}\r\n            setShowEdit={setShowEdit}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showDelete && (\r\n        <div className=\"edit-contianer\">\r\n          <Delete\r\n            handleDeleteTask={handleDeleteTask}\r\n            showDelete={showDelete}\r\n            setShowDelete={setShowDelete}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Suspense } from \"react\";\r\nimport \"./list.scss\";\r\nimport Task from \"./task/Task\";\r\nimport db from \"../../lib/firebase\";\r\nimport { addTask } from \"../../services/firebase\";\r\n// icons\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport PriorityHighIcon from \"@material-ui/icons/PriorityHigh\";\r\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\r\n\r\nexport default function List({\r\n  list,\r\n  userInfo,\r\n  tasks,\r\n  setTasks,\r\n  setShowListEdit,\r\n  setShowDeleteList,\r\n  setSidebarOpen,\r\n}) {\r\n  const [input, setInput] = useState(\"\");\r\n  const isInvalid = input === \"\";\r\n\r\n  // update tasks\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .orderBy(\"due\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        setTasks(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  }, [list]);\r\n\r\n  const handleAddTask = (event) => {\r\n    event.preventDefault();\r\n    addTask(list.listId, userInfo.docId, input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const sortByDate = () => {\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .collection(\"tasks\")\r\n      .orderBy(\"due\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        setTasks(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  };\r\n\r\n  const filterBy = (item, bool) => {\r\n    setTasks(tasks.filter((task) => task[item] === bool));\r\n  };\r\n\r\n  const handleCloseListEdit = () => {\r\n    setShowListEdit(false);\r\n    setShowDeleteList(false);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<p className=\"suspense\">loading...</p>}>\r\n      <div className=\"list\" onClick={() => handleCloseListEdit()}>\r\n        {list.listId !== undefined && (\r\n          <form className=\"add\">\r\n            <button disabled={isInvalid} type=\"submit\" onClick={handleAddTask}>\r\n              <AddCircleIcon className=\"add-icon\" />\r\n            </button>\r\n            <input\r\n              placeholder=\"Add a task\"\r\n              value={input}\r\n              maxLength={1000}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n          </form>\r\n        )}\r\n        <div className=\"tasks-container\">\r\n          {tasks.map((item, index) => (\r\n            <>\r\n              <Task\r\n                task={item}\r\n                userInfo={userInfo}\r\n                list={list}\r\n                completed={item.completed}\r\n                index={index}\r\n              />\r\n            </>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"filterbar\">\r\n          <button onClick={() => filterBy(\"completed\", false)}>\r\n            <CheckCircleIcon className=\"incomplete-filter\" />\r\n          </button>\r\n          <button onClick={() => filterBy(\"completed\", true)}>\r\n            <CheckCircleIcon className=\"completed-filter\" />\r\n          </button>\r\n          <button onClick={() => filterBy(\"urgent\", true)}>\r\n            <PriorityHighIcon className=\"priority-filter\" />\r\n          </button>\r\n          <button className=\"refresh-button\" onClick={() => sortByDate()}>\r\n            <RefreshIcon className=\"refresh\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./editList.scss\";\r\nimport db from \"../../lib/firebase\";\r\nimport { deleteTask } from \"../../services/firebase\";\r\n// icons\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nexport default function EditList({\r\n  list,\r\n  userInfo,\r\n  showListEdit,\r\n  setShowListEdit,\r\n  showDeleteList,\r\n  setShowDeleteList,\r\n  setSidebarOpen,\r\n  tasks,\r\n  setTasks,\r\n}) {\r\n  const [inputName, setInputName] = useState(\"\");\r\n  const isInvalid = inputName === \"\";\r\n\r\n  const handleSaveName = async () => {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .update({\r\n        listName: inputName,\r\n      });\r\n\r\n    setInputName(\"\");\r\n    setShowListEdit(!showListEdit);\r\n    setShowDeleteList(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    for (let i = 0; i < tasks.length; i++) {\r\n      deleteTask(userInfo.docId, list.listId, tasks[i].taskIdList);\r\n    }\r\n\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .doc(list.listId)\r\n      .delete();\r\n\r\n    setInputName(\"\");\r\n    setShowListEdit(!showListEdit);\r\n    setShowDeleteList(false);\r\n    setSidebarOpen(true);\r\n    setTasks([]);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowDeleteList((showDeleteList) => !showDeleteList);\r\n  };\r\n\r\n  return (\r\n    <div className={showListEdit ? \"edit-list active\" : \"edit-list\"}>\r\n      <div className=\"edit-container\">\r\n        <p>Name:</p>\r\n        <div className=\"edit-input\">\r\n          <input\r\n            type=\"text\"\r\n            maxLength={20}\r\n            placeholder={`${list.listName}`}\r\n            onChange={(e) => setInputName(e.target.value)}\r\n          />\r\n          <button disabled={isInvalid} onClick={() => handleSaveName()}>\r\n            <SaveIcon className=\"save-icon\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"delete-container\">\r\n          <CloseIcon\r\n            className=\"delete-icon\"\r\n            onClick={() => setShowDeleteList(!showDeleteList)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={showDeleteList ? \"delete-list show\" : \"delete-list\"}>\r\n        <button className=\"cancel\" onClick={() => handleCancel()}>\r\n          Cancel\r\n        </button>\r\n        <button className=\"delete\" onClick={() => handleDelete()}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./dashboard.scss\";\r\nimport UserContext from \"../../context/user\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport { getListsByDocId } from \"../../services/firebase\";\r\nimport db from \"../../lib/firebase\";\r\n//components\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport List from \"../../components/list/List\";\r\nimport EditList from \"../../components/editList/EditList\";\r\n\r\nexport default function Dashboard() {\r\n  // dummy imputs to keep initial load from returning undefined\r\n  const emptyList = {\r\n    listName: \"\",\r\n    tasks: [{ taskName: \"none\" }],\r\n  };\r\n  const emptyList2 = {\r\n    listName: \"\",\r\n    tasks: [{ taskName: \"none\" }],\r\n  };\r\n  const emptyArr = [emptyList, emptyList2];\r\n  const [lists, setLists] = useState(emptyArr);\r\n  const [currentList, setCurrentList] = useState(emptyList);\r\n\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [showListEdit, setShowListEdit] = useState(false);\r\n  const [showDeleteList, setShowDeleteList] = useState(false);\r\n  const [username, setusername] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  // load lists upon initial load\r\n  useEffect(() => {\r\n    async function loadLists() {\r\n      const listData = await getListsByDocId(userInfo.docId);\r\n      if (listData) {\r\n        setLists(listData);\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    loadLists();\r\n    setCurrentList(lists[0]);\r\n    setusername(userInfo.username);\r\n  }, [userInfo.docId]);\r\n\r\n  // update dashboard to include newly added list\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .collection(\"lists\")\r\n      .onSnapshot((snapshot) => {\r\n        setLists(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  }, [currentList]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    currentList.listName === \"\"\r\n      ? (document.title = `To Do`)\r\n      : (document.title = `To Do - ${currentList.listName}`);\r\n  }, [currentList]);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <Navbar\r\n        list={currentList}\r\n        userInfo={userInfo}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        showListEdit={showListEdit}\r\n        setShowListEdit={setShowListEdit}\r\n        setShowDeleteList={setShowDeleteList}\r\n        username={username}\r\n      />\r\n      <EditList\r\n        list={currentList}\r\n        userInfo={userInfo}\r\n        showListEdit={showListEdit}\r\n        setShowListEdit={setShowListEdit}\r\n        showDeleteList={showDeleteList}\r\n        setShowDeleteList={setShowDeleteList}\r\n        setSidebarOpen={setSidebarOpen}\r\n        tasks={tasks}\r\n        setTasks={setTasks}\r\n      />\r\n      <Sidebar\r\n        lists={lists}\r\n        setCurrentList={setCurrentList}\r\n        userInfo={userInfo}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        user={user}\r\n      />\r\n      <List\r\n        list={currentList}\r\n        userInfo={userInfo}\r\n        tasks={tasks}\r\n        setTasks={setTasks}\r\n        setShowListEdit={setShowListEdit}\r\n        setShowDeleteList={setShowDeleteList}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId() {\r\n      const [response] = await getUserByUserId(user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  // returns userInfo variable, cannot return user variable as that is used in userContext\r\n  return { userInfo: activeUser };\r\n}\r\n"],"sourceRoot":""}