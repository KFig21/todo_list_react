(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[4],{53:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return O}));var c=n(62),s=n(51),a=n.n(s),r=n(52),i=n(19);function o(e){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").where("username","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").where("userId","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(c.a)(Object(c.a)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(t).collection("lists").get();case 2:return n=(n=e.sent).docs.map((function(e){return Object(c.a)({},e.data())})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(a.a.mark((function e(t,n,c){var s,r,o,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(n);case 2:s=e.sent,r=s.collection("lists").doc(t),o=r.collection("tasks").doc(),u=s.collection("tasks").doc(),l=Date.now(),o.set({taskName:c,dateCreated:l,completed:!1,due:l,urgent:!1,taskIdList:o.id,taskIdMain:u.id}),u.set({taskName:c,dateCreated:l,completed:!1,due:l,urgent:!1,taskIdList:o.id,taskIdMain:u.id});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.firestore().collection("users").doc(t).collection("lists").doc();case 2:(c=e.sent).set({listName:n,dateCreated:Date.now(),listId:c.id});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(51),s=n.n(c),a=n(52),r=n(26),i=n(1),o=n(27),u=n(53);function l(){var e=Object(i.useState)({}),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(i.useContext)(o.a).user;return Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.e)(l.uid);case 2:t=e.sent,n=Object(r.a)(t,1),a=n[0],c(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(null===l||void 0===l?void 0:l.uid)&&function(){e.apply(this,arguments)}()}),[l]),{userInfo:n}}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(1),s=n(4),a=n(28),r=(n(59),n(16)),i=n(27),o=n(57),u=n(61),l=n.n(u),d=n(8);function j(e){var t=e.title,n=e.sidebarOpen,u=e.setSidebarOpen,j=(Object(c.useContext)(r.a).firebase,Object(c.useContext)(i.a).user),f=(Object(o.a)().userInfo,Object(s.f)(),void 0===t?"To-Do List":t);return Object(d.jsx)("div",{className:"navbar",children:Object(d.jsxs)("div",{className:"relative",children:[Object(d.jsx)("div",{className:"left",children:Object(d.jsx)("div",{className:"hamburger",onClick:function(){return u(!n)},children:Object(d.jsx)(l.a,{className:"icon"})})}),Object(d.jsx)("div",{className:"middle",children:Object(d.jsx)(a.b,{className:"link-title",to:"/",children:Object(d.jsx)("h2",{children:"".concat(f)})})}),Object(d.jsx)("div",{className:"right",children:!j&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(a.b,{to:"/login",children:Object(d.jsx)("button",{children:"Login"})}),Object(d.jsx)(a.b,{to:"/signup",children:Object(d.jsx)("button",{children:"Signup"})})]})})]})})}},59:function(e,t,n){},64:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=r},65:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=r},75:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=r},76:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.default=r},77:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"19",r:"2"}),a.createElement("path",{d:"M10 3h4v12h-4z"})),"PriorityHigh");t.default=r},78:function(e,t,n){"use strict";var c=n(54),s=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1)),r=(0,c(n(56)).default)(a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.default=r},93:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var c=n(51),s=n.n(c),a=n(52),r=n(26),i=n(1),o=n(27),u=n(57),l=n(53),d=(n(69),n(4)),j=n(16),f=n(64),b=n.n(f),p=(n(70),n(8));function O(e){var t=e.lists,n=e.setCurrentList,c=e.userInfo,s=e.sidebarOpen,a=e.setSidebarOpen,o=e.user,u=Object(i.useState)(""),f=Object(r.a)(u,2),O=f[0],h=f[1],m=""===O,v=Object(i.useContext)(j.a).firebase,x=Object(d.f)();return Object(p.jsxs)("div",{className:"sidebar "+(s&&"active"),children:[Object(p.jsxs)("div",{className:"sidebar-list",children:[t.map((function(e){return Object(p.jsx)("div",{className:"sidebar-list-item",children:Object(p.jsx)("span",{className:"list-name",onClick:function(){return function(e){n(e),a(!1)}(e)},children:e.listName})})})),o&&Object(p.jsxs)("form",{className:"add",children:[Object(p.jsx)("button",{disabled:m,type:"submit",onClick:function(e){e.preventDefault(),Object(l.a)(c.docId,O),h("")},children:Object(p.jsx)(b.a,{className:"add-icon"})}),Object(p.jsx)("input",{placeholder:"Add a list",value:O,onChange:function(e){return h(e.target.value)}})]})]}),o&&Object(p.jsx)("button",{className:"signout",onClick:function(){return v.auth().signOut(),void x.push("/login")},onKeyDown:function(e){"enter"===e.key&&(x.push("/login"),v.auth().signOut())},children:"Signout"})]})}var h=n(58),m=(n(71),n(72),n(19)),v=(n(73),n(74)),x=n.n(v),k=n(65),N=n.n(k);function I(e){var t=e.task,n=e.userInfo,c=e.list,o=e.showEdit,u=e.setShowEdit,l=Object(i.useState)(""),d=Object(r.a)(l,2),j=d[0],f=d[1],b=Object(i.useState)(""),O=Object(r.a)(b,2),h=O[0],v=O[1];function k(e){return new Date(e).toLocaleDateString("en-US")}var I=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("save name"),e.next=3,m.b.collection("users").doc(n.docId).collection("lists").doc(c.listId).collection("tasks").doc(t.taskIdList).update({taskName:j});case 3:return e.next=5,m.b.collection("users").doc(n.docId).collection("tasks").doc(t.taskIdMain).update({taskName:j});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.collection("users").doc(n.docId).collection("lists").doc(c.listId).collection("tasks").doc(t.taskIdList).update({due:h});case 2:return e.next=4,m.b.collection("users").doc(n.docId).collection("tasks").doc(t.taskIdMain).update({due:h});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"edit-item",children:[Object(p.jsx)(N.a,{className:"close-edit",onClick:function(){return u(!o)}}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("p",{children:"Task:"}),Object(p.jsxs)("div",{className:"edit-input",children:[Object(p.jsx)("input",{type:"text",placeholder:"".concat(t.taskName),onChange:function(e){return f(e.target.value)}}),Object(p.jsx)(x.a,{className:"save-icon",onClick:function(){return I()}})]}),Object(p.jsx)("p",{children:"Due:"}),Object(p.jsxs)("div",{className:"edit-input",children:[Object(p.jsx)("input",{type:"text",onFocus:function(e){e.currentTarget.type="date",e.currentTarget.focus()},placeholder:"".concat(k(t.due)),onChange:function(e){return v(e.target.value)}}),Object(p.jsx)(x.a,{className:"save-icon",onClick:function(){return g()}})]}),Object(p.jsx)("p",{children:"Created:"}),Object(p.jsx)("p",{children:k(t.dateCreated)}),Object(p.jsx)("p",{children:"Status:"}),t.completed?Object(p.jsx)("p",{className:"completed-p",children:"Completed"}):Object(p.jsx)("p",{children:"Incomplete"}),Object(p.jsx)("p",{children:"Urgency:"}),t.urgent?Object(p.jsx)("p",{className:"urgent-p",children:"URGENT"}):Object(p.jsx)("p",{children:"Not urgent"})]})]})}var g=n(76),C=n.n(g),w=n(75),y=n.n(w),S=n(77),M=n.n(S),E=n(78),L=n.n(E);function _(e){var t=e.task,n=e.userInfo,c=e.list,o=e.completed;console.log("task",t);var u,l=Object(i.useState)(o),d=Object(r.a)(l,2),j=d[0],f=d[1],b=Object(i.useState)(t.urgent),O=Object(r.a)(b,2),h=O[0],v=O[1],x=Object(i.useState)(!1),k=Object(r.a)(x,2),g=k[0],w=k[1],S=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return!e})),e.next=3,m.b.collection("users").doc(n.docId).collection("lists").doc(c.listId).collection("tasks").doc(t.taskIdList).update({completed:!j});case 3:return e.next=5,m.b.collection("users").doc(n.docId).collection("tasks").doc(t.taskIdMain).update({completed:!j});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v((function(e){return!e})),e.next=3,m.b.collection("users").doc(n.docId).collection("lists").doc(c.listId).collection("tasks").doc(t.taskIdList).update({urgent:!h});case 3:return e.next=5,m.b.collection("users").doc(n.docId).collection("tasks").doc(t.taskIdMain).update({urgent:!h});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.collection("users").doc(n.docId).collection("lists").doc(c.listId).collection("tasks").doc(t.taskIdList).delete();case 2:return e.next=4,m.b.collection("users").doc(n.docId).collection("tasks").doc(t.taskIdMain).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"list-item-container",children:[Object(p.jsxs)("div",{className:"list-item",children:[Object(p.jsxs)("div",{className:"left",children:[Object(p.jsx)("div",{className:"icon-container",onClick:S,children:j?Object(p.jsx)(y.a,{className:"completedIcon"}):Object(p.jsx)(C.a,{className:"incompleteIcon"})}),Object(p.jsx)("div",{className:"icon-container",onClick:E,children:h?Object(p.jsx)(M.a,{className:"urgentIcon"}):Object(p.jsx)(M.a,{className:"urgentIconFaded"})}),Object(p.jsxs)("p",{className:"task",onClick:function(){return w((function(e){return!e}))},children:[t.taskName,Object(p.jsx)(L.a,{className:"create-icon"})]})]}),Object(p.jsxs)("div",{className:"right",children:[Object(p.jsxs)("p",{className:"date",onClick:function(){return w((function(e){return!e}))},children:[Object(p.jsx)(L.a,{className:"create-icon"}),(u=t.due,new Date(u).toLocaleDateString("en-US"))]}),Object(p.jsx)("div",{className:"icon-container",onClick:_,children:Object(p.jsx)(N.a,{className:"closeIcon"})})]})]}),g&&Object(p.jsx)("div",{className:"edit-contianer",children:Object(p.jsx)(I,{task:t,userInfo:n,list:c,completed:o,showEdit:g,setShowEdit:w})})]})}function z(e){var t=e.list,n=e.userInfo;console.log("list",t);var c=Object(i.useState)([]),s=Object(r.a)(c,2),a=s[0],o=s[1],u=Object(i.useState)(""),d=Object(r.a)(u,2),j=d[0],f=d[1],O=""===j;Object(i.useEffect)((function(){m.b.collection("users").doc(n.docId).collection("lists").doc(t.listId).collection("tasks").onSnapshot((function(e){console.log("snapshot",e.docs.map((function(e){return e.data()}))),o(e.docs.map((function(e){return e.data()})))}))}),[t]);return Object(p.jsxs)("div",{className:"list",children:[void 0!==t.listId&&Object(p.jsxs)("form",{className:"add",children:[Object(p.jsx)("button",{disabled:O,type:"submit",onClick:function(e){e.preventDefault(),Object(l.b)(t.listId,n.docId,j),f("")},children:Object(p.jsx)(b.a,{className:"add-icon"})}),Object(p.jsx)("input",{placeholder:"Add a task",value:j,onChange:function(e){return f(e.target.value)}})]}),Object(p.jsx)("div",{className:"tasks-container",children:Object(p.jsx)(i.Suspense,{fallback:Object(p.jsx)("p",{className:"suspense",children:"loading..."}),children:a.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(_,{task:e,userInfo:n,list:t,completed:e.completed})})}))})})]})}function D(){var e={listName:"",tasks:[{taskName:"none"}]},t=[e,{listName:"",tasks:[{taskName:"none"}]}],n=Object(i.useContext)(o.a).user,c=Object(u.a)().userInfo,j=Object(i.useState)(t),f=Object(r.a)(j,2),b=f[0],v=f[1],x=Object(i.useState)(e),k=Object(r.a)(x,2),N=k[0],I=k[1],g=Object(i.useState)(!1),C=Object(r.a)(g,2),w=C[0],y=C[1],S=Object(d.f)();return Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)(c.docId);case 2:if(!(t=e.sent)){e.next=7;break}v(t),e.next=8;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),I(b[0])}),[c.docId]),Object(i.useEffect)((function(){m.b.collection("users").doc(c.docId).collection("lists").onSnapshot((function(e){console.log("snapshot",e.docs.map((function(e){return e.data()}))),v(e.docs.map((function(e){return e.data()})))}))}),[N]),Object(i.useEffect)((function(){n||S.push("/login")}),[n]),Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(h.a,{title:N.listName,sidebarOpen:w,setSidebarOpen:y}),Object(p.jsx)(O,{lists:b,setCurrentList:I,userInfo:c,sidebarOpen:w,setSidebarOpen:y,user:n}),Object(p.jsx)(z,{list:N,userInfo:c})]})}}}]);
//# sourceMappingURL=4.35ea4634.chunk.js.map